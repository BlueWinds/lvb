namespace = lvb_tentacle_extinction

# Intro Anomaly - Scientist kidnapped
ship_event = {
	id = lvb_tentacle_extinction.1
	title = lvb_tentacle_extinction.1.name
	desc = lvb_tentacle_extinction.1.desc
	picture = GFX_evt_lvb_tentacle_recruit
	show_sound = event_dangerous_animals
	location = from

	is_triggered_only = yes

	immediate = {
		leader = {
			save_global_event_target_as = lvb_tentacle_scientist
			exile_leader_as = lvb_tentacle_kidnapped_scientist
		}
		from = {
			add_modifier = { modifier = lvb_tentacle_covered }
		}
	}

	option = {
		name = lvb_tentacle_extinction.1.continue

		from = {
			create_archaeological_site = lvb_tentacle_extinction_dig
		}

		begin_event_chain = {
			event_chain = "tentacle_extinction_chain"
			target = ROOT
		}
	}
}

# Landing
fleet_event = {
	id = lvb_tentacle_extinction.10
	title = lvb_tentacle_extinction.10.name
	desc = lvb_tentacle_extinction.10.desc
	picture = GFX_evt_lvb_tentacle_genetics
	show_sound = event_dangerous_animals
	location = from

	archaeology = yes
	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = {
		from = { set_site_progress_locked = no }
	}

	option = {
		name = lvb_tentacle_extinction.10.continue # This is horrible.
		small_artifact_reward = yes
	}
}

# Under the jungle
fleet_event = {
	id = lvb_tentacle_extinction.11
	title = lvb_tentacle_extinction.11.name
	desc = lvb_tentacle_extinction.11.desc
	picture = GFX_evt_city_ruins
	show_sound = event_dangerous_animals
	location = from

	archaeology = yes
	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = {
		from = { set_site_progress_locked = no }
	}

	option = {
		name = lvb_tentacle_extinction.11.continue
		medium_artifact_reward = yes
	}
}

# Genetics gone wrong
fleet_event = {
	id = lvb_tentacle_extinction.12
	title = lvb_tentacle_extinction.12.name
	desc = lvb_tentacle_extinction.12.desc
	picture = GFX_evt_lvb_tentacle_genetics
	show_sound = event_dangerous_animals
	location = from

	archaeology = yes
	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = {
		from = { set_site_progress_locked = no }
	}

	option = {
		name = lvb_tentacle_extinction.12.continue
		medium_artifact_reward = yes
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
	}
}

# Tunnels
fleet_event = {
	id = lvb_tentacle_extinction.13
	title = lvb_tentacle_extinction.13.name
	desc = lvb_tentacle_extinction.13.desc
	picture = GFX_evt_lvb_tentacle_tunnels
	show_sound = event_dangerous_animals
	location = from

	archaeology = yes
	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = {
		from = { set_site_progress_locked = no }
	}

	option = {
		name = lvb_tentacle_extinction.13.continue
		owner = {
			add_resource = { influence = 60 }
		}
	}
}

# Breeding Chambers
fleet_event = {
	id = lvb_tentacle_extinction.14
	title = lvb_tentacle_extinction.14.name
	desc = lvb_tentacle_extinction.14.desc
	picture = GFX_evt_lvb_tentacle_breeding_chambers
	show_sound = event_dangerous_animals
	location = from

	archaeology = yes
	is_triggered_only = yes

	immediate = {
		from = { set_site_progress_locked = yes }
	}

	after = {
		from = { set_site_progress_locked = no }
	}

	option = {
		name = lvb_tentacle_extinction.14.continue
		owner = {
			clone_leader = {target = lvb_tentacle_kidnapped_scientist }
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
		}
		enable_special_project = {
			name = "lvb_tentacle_extinction_burn_out"
			location = this
			owner = root
		}
		enable_special_project = {
			name = "lvb_tentacle_extinction_recruit"
			location = this
			owner = root
		}
		enable_special_project = {
			name = "lvb_tentacle_extinction_use_them"
			location = this
			owner = root
		}
		enable_special_project = {
			name = "lvb_tentacle_extinction_recruit"
			location = this
			owner = root
		}
	}
}

planet_event = {
	id = lvb_tentacle_extinction.20
	title = "lvb_tentacle_extinction_burn_out"
	desc = "lvb_tentacle_extinction.20.desc"
	picture = GFX_evt_victorious_army
	show_sound = event_construction
	location = ROOT

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			remove_modifier = "lvb_tentacle_covered"
			add_modifier = { modifier = "atmospheric_aphrodisiac" }
		}
	}

	option = {
		name = EXCELLENT
	}
}

planet_event = {
	id = lvb_tentacle_extinction.21
	title = "lvb_tentacle_extinction_recruit"
	desc = "lvb_tentacle_extinction.21.desc"
	picture = GFX_evt_lvb_tentacle_recruit
	show_sound = event_construction
	location = ROOT

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			remove_modifier = "lvb_tentacle_covered"
			create_army = {
				owner = root
				type = "xenomorph_army"
			}
			create_army = {
				owner = root
				type = "xenomorph_army"
			}
			create_army = {
				owner = root
				type = "xenomorph_army"
			}
			create_army = {
				owner = root
				type = "xenomorph_army"
			}
		}
	}

	option = {
		name = EXCELLENT
	}
}

planet_event = {
	id = lvb_tentacle_extinction.22
	title = "lvb_tentacle_extinction_use_them"
	desc = "lvb_tentacle_extinction.22.desc"
	picture = GFX_evt_lvb_tentacle_breeding
	show_sound = event_construction
	location = ROOT

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			remove_modifier = "lvb_tentacle_covered"
			add_deposit = d_lvb_flesh_pits
		}
	}

	option = {
		name = lvb_tentacle_extinction.22.continue
	}
}

planet_event = {
	id = lvb_tentacle_extinction.23
	title = "lvb_tentacle_extinction_experiment"
	desc = "lvb_tentacle_extinction.23.desc"
	picture = GFX_evt_lvb_tentacle_research
	show_sound = event_construction
	location = ROOT

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			remove_modifier = "lvb_tentacle_covered"
			add_deposit = d_lvb_flesh_pits_research
		}
	}

	option = {
		name = lvb_tentacle_extinction.23.continue
	}
}

planet_event = {
	id = lvb_tentacle_extinction.24
	title = "lvb_tentacle_extinction_rescue"
	desc = "lvb_tentacle_extinction.24.desc"
	picture = GFX_evt_victorious_army
	show_sound = event_construction
	location = ROOT

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			remove_modifier = "lvb_tentacle_covered"
		}

		create_species = {
			name = random
			class = random
			portrait = random
			namelist = random
			homeworld = root
			traits = {
				trait = "trait_lv_all_female"
				trait = random_traits
			}
			effect = {
				save_global_event_target_as = lvb_tentacle_survivors
			}
		}

		create_colony = {
			owner = root
			species = event_target:lvb_tentacle_survivors
			ethos = owner
		}

		while = {
			count = 4
			create_pop = {
				species = event_target:lvb_tentacle_survivors
			}
		}
	}

	option = {
		name = EXCELLENT
	}
}
